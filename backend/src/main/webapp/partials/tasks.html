		<!-----------------------------------
		  -- WORKSPACE MENU
		  ----------------------------------->
		<div id="workspace-menu" ng-cloak>
			<div class="navbar">
				<div class="navbar-inner">
					<div class="container" style="width:auto;">
						<span class="brand">My Workspaces</span>
						<ul id="workspaceList" class="nav">
							<li class="cursor-pointer" ng-repeat="workspace in workspaces"><a ng-click="setActiveWorkspace(workspace.id)">{{workspace.title}}</a></li>
						</ul>
						<ul class="nav pull-right">
							<li class="cursor-pointer"><a ng-click=""><i class="icon-plus icon-white"></i> Add Workspace</a></li>
						</ul>
					</div>
				</div>
			</div>
		</div>

		<!-----------------------------------
		  -- PAGE TASKS
		  ----------------------------------->
		<div ng-controller="WorkspaceCtrl" ng-cloak>
			<!-- task filter panel -->
			<div class="panel-task-filter" ng-class="{'hide2':!viewPanelTaskFilter}">
				<div class="panel-task-filter-inner">
					<div class="panel-task-filter-content">
						<div class="tile" ng-class="{'active':'MY_PENDING'==filter.queue}" ng-click="setTaskFilterQueue('MY_PENDING')"><div>Pending</div><div class="pull-right">{{allTasks | queueTasksCount: "MY_PENDING"}}</div></div>
						<div class="tile" ng-class="{'active':'MY_TODAY'==filter.queue}" ng-click="setTaskFilterQueue('MY_TODAY')"><div>Today</div><div class="pull-right">{{allTasks | queueTasksCount: "MY_TODAY"}}</div></div>
						<div class="tile" ng-class="{'active':'MY_OVERDUE'==filter.queue}" ng-click="setTaskFilterQueue('MY_OVERDUE')"><div>Overdue</div><div class="pull-right">{{allTasks | queueTasksCount: "MY_OVERDUE"}}</div></div>
						<div class="tile" ng-class="{'active':'MY_HIGH_PRIORITY'==filter.queue}" ng-click="setTaskFilterQueue('MY_HIGH_PRIORITY')"><div>High Priority</div><div class="pull-right">{{allTasks | queueTasksCount: "MY_HIGH_PRIORITY"}}</div></div>
						<div class="tile" ng-class="{'active':'MY_COMPLETED'==filter.queue}" ng-click="setTaskFilterQueue('MY_COMPLETED')"><div>Completed</div><div class="pull-right">{{allTasks | queueTasksCount: "MY_COMPLETED"}}</div></div>
						<br />
						<span class="badge cursor-pointer" ng-repeat="tag in tags" ng-class="{'badge-warning':tag == filter.tag}" ng-click="setTaskFilterTag(tag)">{{tag}}</span>
					</div>
				</div>
			</div>
			<div class="panel-task-divider" ng-class="{'left':!viewPanelTaskFilter}" ng-click="setView('PANEL-TASK-FILTER')">
				<div class="panel-task-divider-inner">
				</div>
			</div>
			<!-- task list panel -->
			<div class="panel-task-list" ng-class="{'large':!viewPanelTaskFilter}">
				<div class="panel-task-list-inner">
					<!-- task list header -->
					<div class="header" ng-class="{'large':taskEditMode == 'NEW'}">
						<div class="queue-name">
							<div class="queue-name-inner">
								<div class="title pull-left cursor-pointer" ng-click="changeTaskQueue()">{{filter.queue | taskQueueName}} <small>/ {{allTasks | queueTasksCount:filter.queue}}</small></div>
								<div class="input-append pull-right">
									<input class="span2" type="text" placeholder="type search phrase..." ng-model="filter.searchString" />
									<button class="btn btn-inverse" ng-click="filterTasks()"><i class="icon-search icon-white"></i></button>
								</div>
							</div>
						</div>
						<div class="queue-controls">
							<div class="queue-controls-inner">
								<div class="btn-group">
									<button class="btn btn-inverse dropdown-toggle" data-toggle="dropdown">Sort by {{filter.orderBy | orderName}} <span class="caret"></span></button>
									<ul class="dropdown-menu">
										<li ng-click="setTaskOrdering('TASK_TITLE')"><a>Name</a></li>
										<li ng-click="setTaskOrdering('TASK_DUE_DATE')"><a>Due date</a></li>
										<li ng-click="setTaskOrdering('TASK_AUTHOR')"><a>Author</a></li>
									</ul>
								</div>
								<button class="btn btn-inverse pull-right" style="margin-left:5px;" ng-click="setTaskEditMode('NEW')"><i class="icon-plus icon-white"></i></button>
								<button class="btn pull-right" ng-click="loadTasks()"><i class="icon-refresh"></i></button>
							</div>
						</div>
						<div class="new-task-simple" ng-class="{'hidden':taskEditMode != 'NEW'}">
							<div class="new-task-simple-inner">
								<div class="row-full input-append">
									<input class="span10" type="text" placeholder="type new task name..." ng-model="newTaskTitle" />
									<button class="btn btn-inverse span2" ng-click="addTask()">Add</button>
								</div>
							</div>
						</div>
					</div>
					<!-- tasks -->
					<div class="task-list" ng-class="{'small':taskEditMode == 'NEW'}">
						<div class="task-list-inner">
							<div id="taskList" class="navbar">
								<div class="navbar-inner thick light inline" ng-repeat="task in tasks | orderBy:orderTasks" ng-class="{'selected':task.id == activeTask.id}" ng-click="setActiveTask(task.id)">
									<div class="row-full">
										<div class="span8">
											<strong>{{task.title}}</strong>
										</div>
										<div class="span4" style="text-align:right;">
											{{task.dueDate | date:'mediumDate'}}
										</div>
									</div>
									<div class="row-full">
										<div class="span8">
											<span class="badge" ng-repeat="tag in task.tags" ng-class="{'label-light':task.id == activeTask.id, 'label-warning':tag == filter.tag}">{{tag}} <i class="icon-remove cursor-pointer" ng-click="removeTag(task.id, tag)" stop-event="click"></i></span>
										</div>
										<div class="span4" style="text-align:right;">
											<span class="badge badge-inverse"><i class="icon-comment icon-white"></i> {{task.comments}}</span>
										</div>
									</div>
								</div>
							</div>
						</div>
					</div>
				</div>
			</div>
			
			<div class="panel-task-detail" ng-cloak>
				<div class="panel-task-detail-inner">
					<div class="panel-task-detail-content">
						
						<div style="padding:5px 0;border-bottom:1px solid #ddd;">
							<button class="btn btn-inverse" ng-click="completeTask()">Complete</button>
							<button class="btn" ng-click="assignTask()">Assign</button>
							<button class="btn" ng-click="forwardTask()">Forward</button>
							<button class="btn" ng-click="moveTask()">Move</button>
							<button class="btn" ng-click="deleteTask()">Delete</button>
						</div>
						
						<div style="margin-top:5px;padding:5px;background:#bbb;color:#fff;font-weight:bold;">
							<div class="row-full">
								<div class="span8">
									{{activeTask.createdBy.name}}
								</div>
								<div class="span4" style="text-align:right;">
									{{activeTask.createdOn | date:'mediumDate'}}<br />
								</div>
							</div>
							<div class="row-full">
								<div class="span8">
									<div class="cursor-pointer" style="font-size:18px;" ng-class="{'hidden':taskEditMode == 'TITLE'}" ng-click="setTaskEditMode('TITLE')">{{activeTask.title}}</div>
									<div ng-class="{'hidden':taskEditMode != 'TITLE'}">
										<div class="input-append">
											<input type="text" ng-model="activeTask.title" ui-keypress="{enter:'updateTask(activeTask)', esc:'setTaskEditMode(\'\')'}" focus="editing" />
											<button class="btn btn-inverse" ng-click="updateTask(activeTask)">OK</button>
										</div>
									</div>
								</div>
								<div class="span4" style="text-align:right;">
									<span class="badge cursor-pointer" ng-class="{'hidden':taskEditMode == 'PRIORITY','badge-info':activeTask.priority == 'LOW','badge-inverse':activeTask.priority == 'STANDARD','badge-important':activeTask.priority == 'HIGH'}" ng-click="changeTaskPriority()"><strong>{{activeTask.priority}}</strong></span>
								</div>
							</div>
						</div>
						
						<div style="margin-top:5px;">
							<span class="badge" ng-repeat="tag in activeTask.tags">{{tag}} <i class="icon-remove cursor-pointer" ng-click="removeTag(activeTask.id, tag)"></i></span>
							<span class="badge cursor-pointer" ng-click=""><i class="icon-plus"></i></span>
							<div id="taskDetailAddLabelForm" class="hidden"><input id="taskDetailAddLabelInput" class="span3" type="text" placeholder="" /> <a href="#" id="taskDetailAddLabelClose"><i class="icon-remove"></i></a></div>
						</div>
						
						<div style="margin-top:5px;padding:5px;background:#fff;border:1px solid #ddd;">
							<div class="row-full">
								<div class="cursor-pointer" ng-class="{'hidden':taskEditMode == 'DESCRIPTION'}" ng-click="setTaskEditMode('DESCRIPTION')">{{activeTask.description}}</div>
								<div ng-class="{'hidden':taskEditMode != 'DESCRIPTION'}">
									<textarea class="span12" style="height:80px;margin-bottom:1px;" ng-model="activeTask.description" ui-keypress="{esc:'setTaskEditMode(\'\')'}">{{activeTask.description}}</textarea><br />
									<button class="btn btn-inverse" ng-click="updateTask(activeTask)">Save changes</button>
								</div>
							</div>
						</div>
						
						<div style="margin-top:5px;padding:5px;border:1px solid #ddd;">
							tady budou komentáře
						</div>
					</div>
				</div>
			</div>
		</div>